/*!
 * MaskAsNumber Jquery Plugin v1.4.1
 * https://github.com/andrehtissot/jquery-mask-as-number
 *
 * Requires jQuery Library
 * https://jquery.com/
 *
 * Copyright AndrÃ© Augusto Tissot
 * Released under the MIT license
 *
 * Date: 2017-02-02
 */
"use strict";!function(e){var t="maskAsNumber",a=function(e,t){if(e.indexOf(".")!==-1&&t.indexOf(".")!==-1){var a=e.length-e.indexOf(".")-1,n=t.length-t.indexOf(".")-1;if(a>n)for(var i=a-n;i>0;i--)t+="0";else if(n>a)for(var i=n-a;i>0;i--)e+="0"}else if(e.indexOf(".")!==-1){var a=e.length-e.indexOf(".")-1;t+=".";for(var i=a;i>0;i--)t+="0"}else if(t.indexOf(".")!==-1){var n=t.length-t.indexOf(".")-1;e+=".";for(var i=n;i>0;i--)e+="0"}if("-"===e[0]&&"-"===t[0]){if(e.length>t.length)return 1;if(t.length>e.length)return-1;if(e>t)return 1;if(t>e)return-1}else{if("-"===e[0])return 1;if("-"===t[0])return-1;if(e.length>t.length)return-1;if(t.length>e.length)return 1;if(e>t)return-1;if(t>e)return 1}return 0},n=function(e,t,n,i,r){var l=e.replace(r?/[^\d\.\-]/g:/[^\d\-]/g,"");if(""!==l){var m=l.indexOf(".");m!==-1&&(l=l.replace(/\./g,""),l=l.substr(0,m)+"."+l.substr(m)),l.indexOf("-")!==-1&&(l=l.replace(/\-/g,""),l="-"+l),l=l.replace(/^-?0+/,""),r?0===l.indexOf(".")?l="0"+l.substr(0,r+1):l.indexOf(".")!==-1&&(l=l.substr(0,l.indexOf(".")+r+1)):""===l&&(l="0")}return t&&1===a(l,t)?l=t:n&&a(l,n)===-1&&(l=n),i&&l.length>i&&(l=l.substr(0,i)),l!==e&&l},i=function(e){if("number"===e[0].type){var t=e.clone()[0];return t.type="text",""+t.value.trim()}return e.val().trim()},r=function(e,a){var n=i(e);n.length>a&&e.val(n.substr(0,a)),"text"===e[0].type&&e.attr("maxlength",a),e.data(t).maxlength=a};e.fn.maskAsNumber=function(a){var a=a||{};e(this).each(function(r,l){var m={},f=e(l),d=i(f);if(m.maxlength=a.maxlength||f.data(t+"Maxlength")||f.attr("maxlength")||null,m.max=""+(a.max||f.data(t+"Max")||f.attr("max")||""),m.min=""+(a.min||f.data(t+"Min")||f.attr("min")||""),m.decimals=""+(a.decimals||f.data(t+"Decimals")||""),m.decimals=e.isNumeric(m.decimals)?parseInt(m.decimals):0,"number"===l.type)if(""!==m.max&&f.attr("max",m.max),""!==m.min&&f.attr("min",m.min),f.attr("step")){if(0===m.decimals){var s=f.attr("step"),u=s.indexOf(".");u!==-1&&(m.decimals=s.length-u-1)}}else if(m.decimals){for(var s="0.",x=m.decimals;x>1;x--)s+="0";s+="1",f.attr("step",s)}if(null!==m.maxlength&&(m.maxlength=parseInt(m.maxlength)),""!==m.max&&null===m.maxlength&&""!==m.min&&"-"!==m.min[0]&&(m.maxlength=m.max.length,m.decimals&&(m.max.indexOf(".")!==-1&&(m.maxlength=m.max.indexOf(".")),m.maxlength+=m.decimals+1)),null!==m.maxlength&&"text"===l.type&&f.attr("maxlength",m.maxlength),f.data(t,m),"-"!==d&&!/\d/.test(d))return void f.val("");var c=n(d,m.min,m.max,m.maxlength,m.decimals);c!==!1&&f.val(c)}).on("keypress."+t,function(a){if(!a.ctrlKey&&13!==a.keyCode&&9!==a.keyCode&&0!==a.charCode){var n=a.char||String.fromCharCode(a.charCode),i=e(this),r=i.data(t);r.receivedMinus&&"-"===n?(a.preventDefault(),r.receivedMinus=!1):r.receivedMinus="-"===n,r.decimals&&(r.receivedDot&&"."===n?(a.preventDefault(),r.receivedDot=!1):r.receivedDot="."===n),""!==r.min&&"-"!==r.min[0]&&r.receivedMinus?a.preventDefault():r.receivedMinus||r.receivedDot||!/\D/.test(n)||a.preventDefault()}}).on("keyup."+t,function(a){var r=e(this),l=r.data(t);if(!l.receivedMinus&&!l.receivedDot){var m=i(r);if(""!==m&&"0"!==m){var f=n(m,null,l.max,l.maxlength,l.decimals);f!==!1&&r.val(f)}}}).on("focusout."+t,function(a){var r=e(this),l=i(r);if(""!==l){var m=r.data(t);"-"===l&&r.val("");var f=n(l,m.min,m.max,m.maxlength,m.decimals);"0"!==f&&f!==!1&&r.val(f)}}).on("paste."+t,function(a){var n;if(a.originalEvent.clipboardData)n=(a.originalEvent||a).clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}n=n.trim();var i="-"===n[0]?"-":"",l=e(this),m=l.data(t),f=m.maxlength;n=i+n.replace(/\D/g,""),f&&(m.maxlength=null,"text"===this.type&&l.removeAttr("maxlength"),setTimeout(r,100,l,f))})}}(jQuery);